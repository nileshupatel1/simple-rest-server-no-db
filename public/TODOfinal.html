<!DOCTYPE html>
<html>

<head>
    <title>DOM</title>
    <style>
        button {
            display: inline-block;
            margin: 0 auto;
            width: 200px;
        }
        
        .redBackground {
            color: Red;
        }
    </style>
    <script type="text/javascript" src="jquery-1.11.3.min.js"></script>
</head>

<body>
    <h1> Todo list</h1>
    <input type="text" id="demo" value="">
    <hr>
    <div id="myBtn">
        <button type="submit" id="myAdd">Add</button>
        <button type="submit" id="myComplete">completed</button>
        <button type="submit" id="myPending">pending</button>
        <br>
        <input type="checkbox" id="myCheckbox" value=""><span>select/deselect</span>
        <button style="position: absolute; left: 20%; right: 20%; bottom: 5%;" type="submit" id="myRemove">remove</button>
    </div>
    <div id="xyz"> </div>
    <script>
        $(document).ready(function() {

            $("#myBtn").hide();
            $('#demo').keypress(function(e) {

                if (e.keyCode == 13) {

                    $("#myBtn").show();

                    var y = this.value;
                    console.log(y);

                    var nn = $("#xyz").append("<input type=checkbox class=selCheckbox value=" + y + "><span>" + y + " </span></input></br>");
                    console.log(nn);
                    vp = $(".selCheckbox");
                    $("#myCheckbox").attr('checked', false)
                }
            });

            $("#myCheckbox").on("click", function() {
                console.log(this);

                if (this.checked) {
                    $("input").each(function() {
                        this.checked = true;
                    });
                } else {
                    $("input").each(function() {
                        this.checked = false;

                    });
                }
            });

            $("#xyz").on("click", "input", function() {

                if (this.checked) {
                    var vl = vp.length;
                    for (var i = 0; i < vl; i++) {
                        if ($(vp[i]).is(":checked") == true) {
                            console.log(i);
                            if (i == vl - 1) {
                                console.log(i);
                                $("#myCheckbox").prop('checked', true);
                            }
                        } else {
                            break;
                        }
                    }
                } else {
                    $("#myCheckbox").attr('checked', false);
                }
            });

            $("#myAdd").on("click", function() {
                //	var pd = $(".selcheckbox");
                for (var i = 0; i < vp.length; i++) {
                    $(vp[i]).parent().show();
                    //$(vp[i]).parent();
                }
            });
            $("#myComplete").on("click", function() {
                $(vp).each(function() {
                    console.log(this);
                    if ($(this).is(':checked') == false) {
                        console.log($(this).parent());
                        $(this).parent().hide();
                    } else {

                        $(this).parent().show();
                    }
                });
            });

            $("#myPending").on("click", function() {
                $(vp).each(function() {
                    console.log(this);
                    if ($(this).is(':checked') == false) {
                        $(this).parent().show();
                    } else {
                        $(this).parent().hide();

                    }
                });
            });


            $("#myRemove").click(function() {
                $(vp).each(function() {
                    console.log(this);
                    if ($(this).is(":checked")) {
                        //	console.log($(this).parent());
                        $(this).parent().remove();
                        $("#myCheckbox").attr('checked', false);

                    }
                });
            });

        });




        /*	if ($(x).is("span")) {
				
					var chk = x.previousSibling;
					if(chk.checked){
					chk.checked = false;
					} else {
					chk.checked = true;
					}
					
                    processchk(chk);
					}
				
				if ($(x).is("input")) {
					var chk = x;
                    processchk(chk);
					}			
			
	function processchk(chk) {
						
                    var y = chk.value;
					console.log(y);
                    if (chk.checked) {
					      
                        $("#xyz").append("<li>" + y + "</li>");
                    } else {

                        $("#xyz li:contains(" + y + ")").remove();
                    }
                } */
    </script>
</body>

</html>